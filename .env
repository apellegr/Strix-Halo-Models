#===============================================================================
# LLM Server Environment Configuration
#===============================================================================
# This file is sourced by start-llm-server.sh and benchmark-model.sh
# Uncomment and modify variables as needed
#===============================================================================

#-------------------------------------------------------------------------------
# Paths
#-------------------------------------------------------------------------------

# Directory containing model files (default: ./models/)
#MODELS_DIR="./models"

# Directory for runtime files like PIDs and logs (default: ~/.llm-servers)
#RUN_DIR="$HOME/.llm-servers"

# Directory for benchmark results (default: ./benchmarks/)
#RESULTS_DIR="./benchmarks"

# Path to optimized model configurations JSON (default: ./model-configs.json)
#CONFIG_FILE="./model-configs.json"

#-------------------------------------------------------------------------------
# llama.cpp Binaries
#-------------------------------------------------------------------------------

# Path to llama-server binary (default: ~/.local/bin/llama-server)
#LLAMA_SERVER="$HOME/.local/bin/llama-server"

# Path to llama-bench binary (default: ~/.local/bin/llama-bench)
#LLAMA_BENCH="$HOME/.local/bin/llama-bench"

# Path to llama-cli binary (default: ~/.local/bin/llama-cli)
#LLAMA_CLI="$HOME/.local/bin/llama-cli"

#-------------------------------------------------------------------------------
# Server Defaults
#-------------------------------------------------------------------------------

# Default host to bind to (default: 0.0.0.0)
#DEFAULT_HOST="0.0.0.0"

# Default port for the server (default: 8081)
#DEFAULT_PORT="8081"

# Number of CPU threads to use (default: 16 for Strix Halo)
#DEFAULT_THREADS="16"

# Default batch size (default: 512)
#DEFAULT_BATCH_SIZE="512"

# Default context size (default: 4096)
#DEFAULT_CTX_SIZE="4096"

#-------------------------------------------------------------------------------
# ROCm/GPU Settings for Strix Halo Unified Memory
#-------------------------------------------------------------------------------
# These are critical for enabling GPU memory allocation on APUs
# Uncomment only if you need to override the defaults

#HSA_ENABLE_SDMA=0
#GPU_MAX_HEAP_SIZE=100
#GPU_MAX_ALLOC_PERCENT=100
#GPU_SINGLE_ALLOC_PERCENT=100
#GPU_FORCE_64BIT_PTR=1
#HIP_VISIBLE_DEVICES=0
#HSA_OVERRIDE_GFX_VERSION=11.5.1
